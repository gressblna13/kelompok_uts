;/*FB_PKG_DELIM*/

__d("IGDAddEmojiToComposerForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b.focus(function(){b.update(function(){var b=String.fromCodePoint.apply(String,a);b=d("Lexical").$createTextNode(b);d("Lexical").$insertNodes([b])})})}g["default"]=a}),98);
__d("IGDComposerAttachmentButton.react",["fbt","BaseFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","getInstamadilloLoggingExtraData","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c,m=c("requireDeferred")("MWLogMessageAction").__setRef("IGDComposerAttachmentButton.react");function n(a){var b=l(2),c;b[0]!==a?(c=function(b){b=Array.from(b);if(b.length>0)return a(b)},b[0]=a,b[1]=c):c=b[1];return c}function a(a){var b=l(20),e=a.multiple,g=a.onAttachmentsAdded,j=a.supportedFileTypes,o=a.threadKey;a=e===void 0?!0:e;var p=(i||(i=c("useReStore")))(),q=d("MWPActor.react").useActor();e=n(g);b[0]!==p.tables.threads||b[1]!==o?(g=function(){return d("ReQL").fromTableAscending(p.tables.threads).getKeyRange(o)},b[0]=p.tables.threads,b[1]=o,b[2]=g):g=b[2];var r;b[3]!==p||b[4]!==o?(r=[p,o],b[3]=p,b[4]=o,b[5]=r):r=b[5];g=d("ReQLSuspense").useFirst(g,r,f.id+":60");var s=c("MessengerWebUXLogger").useInteractionLogger(),t=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[6]!==g?(r=c("getInstamadilloLoggingExtraData")(g),b[6]=g,b[7]=r):r=b[7];var u=r;b[8]!==s||b[9]!==u||b[10]!==t||b[11]!==p||b[12]!==o||b[13]!==q?(g=function(a){return k.jsx(c("IGDSIconButton.react"),{onClick:function(){s==null?void 0:s({eventName:"composer_open_file_picker",extraData:babelHelpers["extends"]({},u),flowInstanceId:t}),a(),m.onReady(function(a){return c("promiseDone")(a.log(p,void 0,o,"composer","attach",void 0,void 0,void 0,void 0,"image",q))})},children:k.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:h._("__JHASH__ffgxgUxbaWG__JHASH__"),color:"ig-primary-text"})})},b[8]=s,b[9]=u,b[10]=t,b[11]=p,b[12]=o,b[13]=q,b[14]=g):g=b[14];b[15]!==j||b[16]!==a||b[17]!==e||b[18]!==g?(r=k.jsx(c("BaseFileSelector.react"),{accept:j,multiple:a,onFilesSelected:e,children:g}),b[15]=j,b[16]=a,b[17]=e,b[18]=g,b[19]=r):r=b[19];return r}g["default"]=a}),226);
__d("IGDComposerEmojiButton.react",["fbt","FDSPopoverLoadingState.react","IGDAddEmojiToComposerForLexical","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","ReQL","ReQLSuspense","getInstamadilloLoggingExtraData","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={button:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0}},n=c("JSResourceForInteraction")("IGDComposerEmojiPicker.react").__setRef("IGDComposerEmojiButton.react");function a(a){var b=k(26),e=a.editor,g=a.threadKey,j=(i||(i=c("useReStore")))();b[0]!==j.tables.threads||b[1]!==g?(a=function(){return d("ReQL").fromTableAscending(j.tables.threads).getKeyRange(g)},b[0]=j.tables.threads,b[1]=g,b[2]=a):a=b[2];var o;b[3]!==j||b[4]!==g?(o=[j,g],b[3]=j,b[4]=g,b[5]=o):o=b[5];a=d("ReQLSuspense").useFirst(a,o,f.id+":50");b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._("__JHASH__VkhGNWsM0xI__JHASH__").toString(),b[6]=o):o=b[6];var p=o;b[7]!==e?(o=function(a){c("IGDAddEmojiToComposerForLexical")(a,e)},b[7]=e,b[8]=o):o=b[8];o=o;var q=c("MessengerWebUXLogger").useInteractionLogger(),r=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),s;b[9]!==a?(s=c("getInstamadilloLoggingExtraData")(a),b[9]=a,b[10]=s):s=b[10];var t=s;b[11]!==t||b[12]!==r?(a={eventName:"composer_emoji_picker_button_rendered",extraData:t,flowInstanceId:r},b[11]=t,b[12]=r,b[13]=a):a=b[13];var u=c("MessengerWebUXLogger").useImpressionLoggerRef(a);b[14]===Symbol["for"]("react.memo_cache_sentinel")?(s=l.jsx(c("FDSPopoverLoadingState.react"),{withArrow:!0}),b[14]=s):s=b[14];b[15]!==o||b[16]!==g?(a={onSelect:o,threadKey:g},b[15]=o,b[16]=g,b[17]=a):a=b[17];b[18]!==u||b[19]!==q||b[20]!==t||b[21]!==r?(o=function(a,b){return l.jsx(c("IGDSBox.react"),{containerRef:u,children:l.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,innerRef:a,onClick:function(){b(),q==null?void 0:q({eventName:"composer_open_emoji_picker",extraData:t,flowInstanceId:r})},xstyle:m.button,children:l.jsx(c("IGDSFace2OutlineIcon.react"),{alt:p,color:"ig-primary-text"})})})},b[18]=u,b[19]=q,b[20]=t,b[21]=r,b[22]=o):o=b[22];b[23]!==a||b[24]!==o?(s=l.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",fallback:s,popoverProps:a,popoverResource:n,position:"above",children:o}),b[23]=a,b[24]=o,b[25]=s):s=b[25];return s}g["default"]=a}),226);
__d("IGDComposerMediaStaging.react",["fbt","BaseFileSelector.react","CometImage.react","FDSImageCover.react","I64","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","IGDSTooltip.react","IGDSXPanoFilledIcon.react","LSIntEnum","MWMediaComposerRenderQpl","MWMediaManager","MessagingAttachmentType","react","stylex","useCurrentDisplayMode","useIGDMediaMangerUploadFailedToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));b=j;b.useCallback;var n=b.useEffect,o=b.useState,p=b.c,q={fileContainer:{width:"x2pejg6",$$css:!0},filePreviewContainer:{backgroundColor:"x1ybostu",width:"x2pejg6",$$css:!0},itemContainer:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",height:"xnxb3zj",marginTop:"xr9ek0c",marginEnd:"xmo9yow",marginBottom:"xzueoph",marginStart:"x1w4ip6v",position:"x1n2onr6",width:"xo5x3gg",$$css:!0},previewContainer:{borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xnxb3zj",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xo5x3gg",$$css:!0},uploadButton:{backgroundColor:"x1a4onnt",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",height:"xnxb3zj",position:"x1n2onr6",width:"xo5x3gg",$$css:!0}},r=h._("__JHASH___Pm614WYgyc__JHASH__"),s=h._("__JHASH__Ucpbsp424i9__JHASH__"),t=h._("__JHASH__S0T9GbUzGf-__JHASH__"),u=h._("__JHASH__tFATIgp0gLR__JHASH__");function v(a){var b=p(2),c;b[0]!==a?(c=function(b){b=Array.from(b);b.length>0&&a(b)},b[0]=a,b[1]=c):c=b[1];return c}function w(a){var b=p(10),d=a.multiple,e=a.onAttachmentsAdded;a=a.supportedFileTypes;d=d===void 0?!0:d;e=v(e);var f=o(!1),g=f[0],h=f[1];f=c("useCurrentDisplayMode")()==="dark";var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i="x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c xmo9yow xzueoph x1w4ip6v xo5x3gg",b[0]=i):i=b[0];f=f?"primary":"black";var j;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(a){return m.jsx(c("IGDSIconButton.react"),{label:s,onClick:a,onHoverEnd:function(){return h(!1)},onHoverStart:function(){return h(!0)},xstyle:q.uploadButton,children:m.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:s,color:"ig-primary-text"})})},b[1]=j):j=b[1];b[2]!==a||b[3]!==d||b[4]!==e?(j=m.jsx(c("BaseFileSelector.react"),{accept:a,multiple:d,onFilesSelected:e,children:j}),b[2]=a,b[3]=d,b[4]=e,b[5]=j):j=b[5];b[6]!==f||b[7]!==g||b[8]!==j?(a=m.jsx("div",{className:i,children:m.jsx(c("IGDSTooltip.react"),{align:"middle",color:f,isVisible:g,position:"above",tooltip:s,children:j})}),b[6]=f,b[7]=g,b[8]=j,b[9]=a):a=b[9];return a}function x(a){var b=p(10);a=a.onPress;var d=c("useCurrentDisplayMode")()==="dark",e=o(!1),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="x4n2nu6 x10l6tqk xtu2xtp",b[0]=e):e=b[0];d=d?"primary":"black";var h,i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){return g(!1)},i=function(){return g(!0)},b[1]=h,b[2]=i):(h=b[1],i=b[2]);var j;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(j=m.jsx("div",{className:"x6s0dn4 xnz67gz x6zrd4h x1fjt22y x903dn5 xp70pm4 x14yjl9h xudhj91 x18nykt9 xww2gxu x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x78zum5 x1qx5ct2 xl56j7k xw4jnvo x9ro6w8",children:m.jsx(c("IGDSXPanoFilledIcon.react"),{alt:r,size:9})}),b[3]=j):j=b[3];b[4]!==a?(h=m.jsx(c("IGDSIconButton.react"),{label:r,onClick:a,onHoverEnd:h,onHoverStart:i,padding:0,children:j}),b[4]=a,b[5]=h):h=b[5];b[6]!==d||b[7]!==f||b[8]!==h?(i=m.jsx("div",{className:e,children:m.jsx(c("IGDSTooltip.react"),{align:"middle",color:d,isVisible:f,position:"above",tooltip:r,children:h})}),b[6]=d,b[7]=f,b[8]=h,b[9]=i):i=b[9];return i}var y=function(a){return a.mimeType==="image/gif"||a.mimeType==="image/webp"};function z(a){var b=p(25),e=a.mediaStagingItem,f=a.onError;a=a.onLoad;var g=e.attachmentType,h=e.previewUrl||"";if(y(e)){if(h!==null){var i;b[0]!==h?(i=m.jsx(c("FDSImageCover.react"),{alt:t,src:h}),b[0]=h,b[1]=i):i=b[1];return i}}else if((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){if(h!==null){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i="xl1xv1r",b[2]=i):i=b[2];var j;b[3]!==f?(j=function(a){return f("load-video-error",{string:{video_error_name:a}})},b[3]=f,b[4]=j):j=b[4];b[5]!==j||b[6]!==a||b[7]!==h?(i=m.jsx("video",{className:i,height:"70",onError:j,onLoadedData:a,src:h,width:"70"}),b[5]=j,b[6]=a,b[7]=h,b[8]=i):i=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(j=m.jsx("div",{className:"xtzzx4i x16hk5td x7wgvq7 x10l6tqk xwa60dl",children:m.jsx(c("CometImage.react"),{src:"/images/video/play_24dp.png"})}),b[9]=j):j=b[9];b[10]!==i?(j=m.jsxs(m.Fragment,{children:[i,j]}),b[10]=i,b[11]=j):j=b[11];return j}}else if((k||(k=d("I64"))).equal(g,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))){if(h!==null){b[12]!==f?(i=function(){return f("load-image-error")},b[12]=f,b[13]=i):i=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(j={userSelect:"none"},b[14]=j):j=b[14];b[15]!==i||b[16]!==a||b[17]!==h?(g=m.jsx(c("FDSImageCover.react"),{alt:"",onError:i,onLoad:a,src:h,style:j}),b[15]=i,b[16]=a,b[17]=h,b[18]=g):g=b[18];return g}}else{b[19]===Symbol["for"]("react.memo_cache_sentinel")?(j="x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xurb0ha x1sxyh0 x87ps6o",i=m.jsx(c("IGDSMediaOutlineIcon.react"),{alt:u}),a="x1iyjqo2",b[19]=j,b[20]=i,b[21]=a):(j=b[19],i=b[20],a=b[21]);b[22]!==e.filename?(h=m.jsxs("div",{className:j,children:[i,m.jsx("div",{className:a,children:m.jsxs(c("IGDSText.react"),{maxLines:2,weight:"light",children:[" ",e.filename," "]})})]}),b[22]=e.filename,b[23]=h):h=b[23];return h}b[24]===Symbol["for"]("react.memo_cache_sentinel")?(g=m.jsx(m.Fragment,{}),b[24]=g):g=b[24];return g}function A(a){var b=p(27),e=a.mediaStagingItem,f=a.onAttachmentRemoved,g=d("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(e),h;b[0]!==g?(a=function(){g==null?void 0:g.addPoint("staging-item-render")},h=[g],b[0]=g,b[1]=a,b[2]=h):(a=b[1],h=b[2]);n(a,h);b[3]!==g?(a=function(a,b){g==null?void 0:g.endFail(a,b)},b[3]=g,b[4]=a):a=b[4];h=a;b[5]!==g?(a=function(){g==null?void 0:g.endSuccess()},b[5]=g,b[6]=a):a=b[6];a=a;var j;b[7]!==f||b[8]!==e.offlineAttachmentId?(j=function(){f(e.offlineAttachmentId)},b[7]=f,b[8]=e.offlineAttachmentId,b[9]=j):j=b[9];j=j;var o=!(k||(k=d("I64"))).equal(e.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))&&!(k||(k=d("I64"))).equal(e.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!y(e),r=o&&q.fileContainer,s;b[10]!==r?(s=(i||(i=c("stylex")))(q.itemContainer,r),b[10]=r,b[11]=s):s=b[11];r=o&&q.filePreviewContainer;b[12]!==r?(o=(i||(i=c("stylex")))(q.previewContainer,r),b[12]=r,b[13]=o):o=b[13];b[14]!==e||b[15]!==h||b[16]!==a?(r=m.jsx(z,{mediaStagingItem:e,onError:h,onLoad:a}),b[14]=e,b[15]=h,b[16]=a,b[17]=r):r=b[17];b[18]!==o||b[19]!==r?(h=m.jsx("div",{className:o,children:r}),b[18]=o,b[19]=r,b[20]=h):h=b[20];b[21]!==j?(a=m.jsx(x,{onPress:j}),b[21]=j,b[22]=a):a=b[22];b[23]!==s||b[24]!==h||b[25]!==a?(o=m.jsxs("div",{className:s,children:[h,a]}),b[23]=s,b[24]=h,b[25]=a,b[26]=o):o=b[26];return o}function a(a){var b=p(18),e=a.hideUploadPlaceholder,f=a.multiple,g=a.supportedFileTypes;a=a.thread;e=e===void 0?!1:e;f=f===void 0?!0:f;var h=c("useIGDMediaMangerUploadFailedToast")(),i;b[0]!==h||b[1]!==a?(i={showUploadFailureToast:h,thread:a},b[0]=h,b[1]=a,b[2]=i):i=b[2];h=d("MWMediaManager").useMediaManager(i);var j=h.handleFileRemove;a=h.handleFileSelect;i=h.mediaStaging;if(i.length===0){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=m.jsx(m.Fragment,{}),b[3]=h):h=b[3];return h}else{b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h="x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xn6708d x1ye3gou x18d9i69 xh8yej3",b[4]=h):h=b[4];var k;b[5]!==e||b[6]!==f||b[7]!==a||b[8]!==g?(k=e?null:m.jsx(w,{multiple:f,onAttachmentsAdded:a,supportedFileTypes:g}),b[5]=e,b[6]=f,b[7]=a,b[8]=g,b[9]=k):k=b[9];if(b[10]!==i||b[11]!==j){b[13]!==j?(e=function(a){return m.jsx(A,{mediaStagingItem:a,onAttachmentRemoved:j},a.offlineAttachmentId)},b[13]=j,b[14]=e):e=b[14];f=Array.from(i).map(e);b[10]=i;b[11]=j;b[12]=f}else f=b[12];b[15]!==k||b[16]!==f?(a=m.jsxs("div",{className:h,children:[k,f]}),b[15]=k,b[16]=f,b[17]=a):a=b[17];return a}}g["default"]=a}),226);
__d("IGDSHeartOutlineIcon.react",["IGDSHeartPanoOutlineIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("IGDSHeartPanoOutlineIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=d):d=b[1];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDHeartLikeButton.react",["fbt","IGDSHeartOutlineIcon.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDWebHeartConst","Int64Hooks","MWPActor.react","MessengerWebUXLogger","getInstamadilloLoggingExtraData","promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDHeartLikeButton.react"),m=h._("__JHASH__6U7UDSmCorj__JHASH__");function a(a){var b=j(14),e=a.onSendMessage,f=a.thread,g=c("useAsyncReStore")(),h=d("MWPActor.react").useActor(),i=c("MessengerWebUXLogger").useInteractionLogger(),n=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[0]!==f?(a=c("getInstamadilloLoggingExtraData")(f),b[0]=f,b[1]=a):a=b[1];var o=a,p;b[2]!==i||b[3]!==o||b[4]!==n||b[5]!==e||b[6]!==g||b[7]!==f.threadKey||b[8]!==h?(a=function(){i==null?void 0:i({eventName:"send_hot_emoji",extraData:o,flowInstanceId:n}),e(d("IGDWebHeartConst").HEART_BUTTON_UNICODE,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDHeartLikeButton"),l.onReady(function(a){return c("promiseDone")(g.then(function(b){return a.log(b,void 0,f.threadKey,"composer","reaction",void 0,void 0,void 0,void 0,"reaction",h)}))})},p=[i,o,n,e,g,f.threadKey,h],b[2]=i,b[3]=o,b[4]=n,b[5]=e,b[6]=g,b[7]=f.threadKey,b[8]=h,b[9]=a,b[10]=p):(a=b[9],p=b[10]);a=d("Int64Hooks").useCallbackInt64(a,p);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx(c("IGDSHeartOutlineIcon.react"),{alt:m,color:"ig-primary-text","data-testid":void 0}),b[11]=p):p=b[11];b[12]!==a?(p=k.jsx(c("IGDSIconButton.react"),{onClick:a,children:p}),b[12]=a,b[13]=p):p=b[13];return p}g["default"]=a}),226);
__d("IGDSMicrophonePanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),d,e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M19.5 10.671v.897a7.5 7.5 0 0 1-15 0v-.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"19.068",y2:"22"}),f=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.706",x2:"15.104",y1:"22",y2:"22"}),g=j.jsx("path",{d:"M12 15.745a4 4 0 0 1-4-4V6a4 4 0 0 1 8 0v5.745a4 4 0 0 1-4 4Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f,b[3]=g):(d=b[0],e=b[1],f=b[2],g=b[3]);b[4]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f,g]})),b[4]=a,b[5]=d):d=b[5];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","getInstamadilloLoggingExtraData","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(14),e=a.thread,f=a.voiceRecorder,g=c("MessengerWebUXLogger").useInteractionLogger(),h=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[0]!==e?(a=c("getInstamadilloLoggingExtraData")(e),b[0]=e,b[1]=a):a=b[1];var k=a;b[2]!==k||b[3]!==h?(e={eventName:"composer_audio_button_rendered",extraData:k,flowInstanceId:h},b[2]=k,b[3]=h,b[4]=e):e=b[4];a=c("MessengerWebUXLogger").useImpressionLoggerRef(e);b[5]!==f||b[6]!==g||b[7]!==k||b[8]!==h?(e=function(){navigator.mediaDevices&&c("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(a){f.start(a)})),g==null?void 0:g({eventName:"composer_record_audio",extraData:k,flowInstanceId:h})},b[5]=f,b[6]=g,b[7]=k,b[8]=h,b[9]=e):e=b[9];e=e;var l;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l=i.jsx(c("IGDSMicrophonePanoOutline24Icon.react"),{alt:d("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),b[10]=l):l=b[10];b[11]!==a||b[12]!==e?(l=i.jsx(c("IGDSIconButton.react"),{innerRef:a,onClick:e,children:l}),b[11]=a,b[12]=e,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("useContactReachabilityStatus",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).c;function l(a,b){var c=k(4),e=d("MWPActor.react").useActor(),f=m(a,b);c[0]!==f||c[1]!==e?(a=function(){if(f.length===1){var a=f[0];a=a[1].id;return(j||(j=d("I64"))).equal(e,a)}return!1},b=[e,f],c[0]=f,c[1]=e,c[2]=a,c[3]=b):(a=c[2],b=c[3]);c=d("Int64Hooks").useMemoInt64(a,b);return c}function m(a,b){var c=k(7),e;c[0]!==a.tables.participants||c[1]!==a.tables.contacts||c[2]!==b?(e=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants,[]).getKeyRange(b),d("ReQL").fromTableAscending(a.tables.contacts,["id","name","secondaryName","blockedByViewerStatus","capabilities","capabilities2","blockedSinceTimestampMs","contactTypeExact","contactReachabilityStatusType"]))},c[0]=a.tables.participants,c[1]=a.tables.contacts,c[2]=b,c[3]=e):e=c[3];var g;c[4]!==a||c[5]!==b?(g=[a,b],c[4]=a,c[5]=b,c[6]=g):g=c[6];c=d("ReQLSuspense").useArray(e,g,f.id+":50");return c}function n(a,b,c){var e=k(6),f=m(a,b),g=l(a,b),h=d("MWPActor.react").useActor();e[0]!==c||e[1]!==f||e[2]!==g||e[3]!==h?(a=function(){if(!d("LSMessagingThreadTypeUtil").isOneToOne(c))return;if(f.length===1){var a=f[0];if(g)return a}return f.find(function(a){a[0];a=a[1];return!(j||(j=d("I64"))).equal(a.id,h)})},b=[h,g,f,c],e[0]=c,e[1]=f,e[2]=g,e[3]=h,e[4]=a,e[5]=b):(a=e[4],b=e[5]);e=d("Int64Hooks").useMemoInt64(a,b);return e}function a(a,b){var d=(h||(h=c("useReStore")))();d=n(d,a,b);return d==null?void 0:d[1].contactReachabilityStatusType}g.useIsSelfThread=l;g.useParticipantsAndContacts=m;g.useOtherUser=n;g.useContactReachabilityStatus=a}),98);
__d("IGDComposerView.react",["fbt","CometPlaceholder.react","I64","IGDAiAgentsUtils","IGDComposerAttachmentButton.react","IGDComposerEmojiButton.react","IGDComposerMediaStaging.react","IGDHeartLikeButton.react","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDVoiceClipButton.react","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPCometComposerInner.react","MWPThreadCapabilitiesContext","MWPUseVoiceRecorder","MessengerWebUXLogger","PolarisUA","Promise","WebDriverConfig","cr:10023","cr:1273","cr:6023","cr:6869","cr:7735","deferredLoadComponent","getInstamadilloLoggingExtraData","gkx","promiseDone","react","requireDeferred","stylex","useContactReachabilityStatus","useCurrentDisplayMode","useParticipantsExcludingViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;e.useCallback;var o=e.c,p=c("deferredLoadComponent")(c("requireDeferred")("IGDAudioRecorder.react").__setRef("IGDComposerView.react")),q={buttonBar:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},buttonBarHidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"x1qjc9v5",borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x1ke7ulo",borderTopEndRadius:"x3jqge",borderBottomEndRadius:"x1i7howy",borderBottomStartRadius:"x4y8mfe",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xw7yly9",marginEnd:"xktsk01",marginBottom:"x1yztbdb",marginStart:"x1d52u69",$$css:!0},sendButton:{marginEnd:"xfs2ol5",$$css:!0}};function r(a){var b=o(15),e=a.hidden,f=a.onClick;a=a.thread;var g=c("MessengerWebUXLogger").useInteractionLogger(),i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),j;b[0]!==a?(j=c("getInstamadilloLoggingExtraData")(a),b[0]=a,b[1]=j):j=b[1];var k=j;b[2]!==k||b[3]!==i?(a={eventName:"composer_send_button_rendered",extraData:k,flowInstanceId:i},b[2]=k,b[3]=i,b[4]=a):a=b[4];j=c("MessengerWebUXLogger").useImpressionLoggerRef(a);b[5]!==f||b[6]!==g||b[7]!==k||b[8]!==i?(a=function(){f(),g==null?void 0:g({eventName:"send_message",extraData:k,flowInstanceId:i})},b[5]=f,b[6]=g,b[7]=k,b[8]=i,b[9]=a):a=b[9];a=a;var l;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._("__JHASH__5ibYHtsbofL__JHASH__"),b[10]=l):l=b[10];b[11]!==e||b[12]!==a||b[13]!==j?(l=n.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:e,label:l,onClick:a,ref:j,variant:"primary_link",xstyle:q.sendButton}),b[11]=e,b[12]=a,b[13]=j,b[14]=l):l=b[14];return l}function a(a){var e=o(84),f=a.attachmentsSupported,g=a.composerLinkPreview,m=a.editor,s=a.editorElementRef,t=a.hasStuffToSend,u=a.hideUploadPlaceholder,v=a.multiple,w=a.onAttachmentsAdded,x=a.onSendMessage,y=a.policyProduct,z=a.sendMessage,A=a.supportedFileTypes,B=a.surface,C=a.thread;u=u===void 0?!1:u;v=v===void 0?!0:v;a=(a=a.emojisSupported)!=null?a:!0;var D=C.threadKey,E=C.threadType,F;e[0]!==D?(F=d("IGDAiAgentsUtils").isMetaAiThread(D),e[0]=D,e[1]=F):F=e[1];F=F;var G=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();G=G.hasLSThreadBitOffset;var H;e[2]!==G?(H=G(56),e[2]=G,e[3]=H):H=e[3];H=H;var I;e[4]!==G?(I=G(36),e[4]=G,e[5]=I):I=e[5];I=I;var J;e[6]!==G?(J=G(109),e[6]=G,e[7]=J):J=e[7];J=J;var K;e[8]!==G?(K=G(43),e[8]=G,e[9]=K):K=e[9];K=K;var L;e[10]!==C.threadType?(L=d("LSMessagingThreadTypeUtil").isGroup(C.threadType),e[10]=C.threadType,e[11]=L):L=e[11];L=L;var M;e[12]!==G?(M=G(14)&&!d("PolarisUA").isMobile(),e[12]=G,e[13]=M):M=e[13];M=M;var N;e[14]!==G||e[15]!==f?(N=G(2)&&f===!0,e[14]=G,e[15]=f,e[16]=N):N=e[16];G=N;var O=d("MWPUseVoiceRecorder").useVoiceRecorder();f=O.state.stage!=="Unopen";e[17]!==O||e[18]!==x?(N=function(){return c("promiseDone")(O.getVoiceClip().then(function(a){O.reset();x(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDComposerView.onSendVoiceClip");return(j||(j=b("Promise"))).resolve()}))},e[17]=O,e[18]=x,e[19]=N):N=e[19];N=N;var P=c("useCurrentDisplayMode")();P=P==="dark"?"var(--always-white)":"var(--chat-composer-button-color)";P=P;var Q;e[20]!==D?(Q={threadKey:D},e[20]=D,e[21]=Q):Q=e[21];Q=c("useParticipantsExcludingViewer")(Q);var R=c("gkx")("24011"),S;e[22]!==z?(S=function(){return z()},e[22]=z,e[23]=S):S=e[23];S=S;var T=d("useContactReachabilityStatus").useContactReachabilityStatus(D,E),U;e[24]!==E?(U=d("LSMessagingThreadTypeUtil").isOneToOne(E),e[24]=E,e[25]=U):U=e[25];E=U;U=T!=null?(k||(k=d("I64"))).equal((l||(l=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE),T):!1;T=E&&!U;e[26]===Symbol["for"]("react.memo_cache_sentinel")?(E=(i||(i=c("stylex")))([q.root]),e[26]=E):E=e[26];e[27]!==g?(U=g!=null&&b("cr:7735")?n.jsx(c("CometPlaceholder.react"),{fallback:null,children:g}):null,e[27]=g,e[28]=U):U=e[28];e[29]!==u||e[30]!==v||e[31]!==A||e[32]!==C?(g=n.jsx(c("IGDComposerMediaStaging.react"),{hideUploadPlaceholder:u,multiple:v,supportedFileTypes:A,thread:C}),e[29]=u,e[30]=v,e[31]=A,e[32]=C,e[33]=g):g=e[33];e[34]!==K||e[35]!==L||e[36]!==D||e[37]!==m||e[38]!==Q?(u=b("cr:6023")!=null&&K&&L?n.jsx(b("cr:6023"),{editor:m,isAiBotMentionsEnabled:R,participants:Q,threadFBID:(k||(k=d("I64"))).to_string(D)}):null,e[34]=K,e[35]=L,e[36]=D,e[37]=m,e[38]=Q,e[39]=u):u=e[39];e[40]===Symbol["for"]("react.memo_cache_sentinel")?(R="x6s0dn4 x78zum5 x1gg8mnh x1pi30zi xlu9dua",e[40]=R):R=e[40];e[41]!==a||e[42]!==f||e[43]!==m||e[44]!==D?(K=a&&!f?n.jsx(c("IGDComposerEmojiButton.react"),{editor:m,threadKey:D}):null,e[41]=a,e[42]=f,e[43]=m,e[44]=D,e[45]=K):K=e[45];e[46]!==f||e[47]!==O||e[48]!==P||e[49]!==N||e[50]!==C||e[51]!==s||e[52]!==m||e[53]!==w||e[54]!==y||e[55]!==B?(L=f?n.jsxs(n.Fragment,{children:[n.jsx(c("IGDSIconButton.react"),{"aria-label":h._("__JHASH__errp_RlaJTi__JHASH__"),onClick:function(){return O.reset()},children:n.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:P,isRotated:!0,size:20})}),n.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:2,marginStart:1,children:n.jsx(p,{voiceRecorder:O})}),n.jsx(r,{onClick:N,thread:C})]}):n.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:1,marginStart:2,children:n.jsx(c("MWPCometComposerInner.react"),{ariaDescribedBy:h._("__JHASH__RTiaBuM2Ahi__JHASH__").toString(),contentEditableRef:s,editor:m,handlePastedFiles:w,placeholderText:h._("__JHASH__O9X2YGfflJk__JHASH__").toString(),policyProduct:y,surface:B})}),e[46]=f,e[47]=O,e[48]=P,e[49]=N,e[50]=C,e[51]=s,e[52]=m,e[53]=w,e[54]=y,e[55]=B,e[56]=L):L=e[56];e[57]!==f||e[58]!==t||e[59]!==S||e[60]!==C||e[61]!==T||e[62]!==M||e[63]!==O||e[64]!==G||e[65]!==H||e[66]!==v||e[67]!==w||e[68]!==A||e[69]!==D||e[70]!==J||e[71]!==x||e[72]!==F||e[73]!==I?(Q=f?null:n.jsxs(n.Fragment,{children:[n.jsx(r,{hidden:!t,onClick:S,thread:C}),n.jsxs("div",{className:(i||(i=c("stylex")))([q.buttonBar,(t||T&&!c("WebDriverConfig").isJestE2ETestRun)&&q.buttonBarHidden]),children:[M?n.jsx(c("IGDVoiceClipButton.react"),{thread:C,voiceRecorder:O}):null,G?n.jsx(c("IGDComposerAttachmentButton.react"),{disabled:!H,multiple:v,onAttachmentsAdded:w,supportedFileTypes:A,threadKey:D}):null,J?n.jsx(c("IGDHeartLikeButton.react"),{onSendMessage:x,thread:C}):null,b("cr:10023")?n.jsx(b("cr:10023"),{onSendMessage:x}):null,b("cr:6869")!=null&&F?n.jsx(b("cr:6869"),{onSendMessage:x,thread:C}):null,I&&b("cr:1273")!=null?n.jsx(b("cr:1273"),{threadKey:D}):null]})]}),e[57]=f,e[58]=t,e[59]=S,e[60]=C,e[61]=T,e[62]=M,e[63]=O,e[64]=G,e[65]=H,e[66]=v,e[67]=w,e[68]=A,e[69]=D,e[70]=J,e[71]=x,e[72]=F,e[73]=I,e[74]=Q):Q=e[74];e[75]!==K||e[76]!==L||e[77]!==Q?(a=n.jsxs("div",{className:R,children:[K,L,Q]}),e[75]=K,e[76]=L,e[77]=Q,e[78]=a):a=e[78];e[79]!==U||e[80]!==g||e[81]!==u||e[82]!==a?(P=n.jsxs("div",{className:E,children:[U,g,u,a]}),e[79]=U,e[80]=g,e[81]=u,e[82]=a,e[83]=P):P=e[83];return P}g["default"]=a}),226);